import React, {Component} from 'react';import {observable, observe, spy} from 'mobx';// 监听每个变化，性能很差，打印太多spy(event => console.log(event));class Store {	@observable todos = []	disposers = [];//里面存放着所有的取消监听的函数	constructor() {		observe(this.todos, event => {			console.log(event);			//让以前的所有取消监听函数执行			this.disposers.length > 0 && this.disposers.forEach(disposer => disposer());			this.disposers = [];			for (let todo of event.object) {				let disposer = observe(todo, e => {					console.log(e);				});				this.disposers.push(disposer);			}		});	}}let store = new Store();store.todos.push({id: 1, name: 'zfpx1'});// store.todos.push({id: 2, name: 'zfpx2'});store.todos.get(0).name = 'zfpx3';console.log(store.todos.get(0));/** @observer class Todos extends Component {    render() {        let store = this.props.store;        return (            <div>            </div>        )    }} let store = new Store(); //store.add = store.add.bind(store); ReactDOM.render(<Todos store={store} />, document.querySelector('#root')); */